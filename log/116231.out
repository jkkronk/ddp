('Under sample factor: ', 4)
FLAIR20201020-125121/jonatank_lat60_ns50_ps28_modalityFLAIR_step100000.ckpt
Read from existing sensmap pattern file
Read from existing u.s. pattern file
xxxxxxxxxxxxxxxxxxx contRec is 
xxxxxxxxxxxxxxxxxxx parfact is 25
---- Defining VAE
>>> lat_dim value: 60
>>> mode is: MRIunproc
2020-10-22 14:58:33.770787: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2020-10-22 14:58:34.087893: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: TITAN X (Pascal) major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:05:00.0
totalMemory: 11.91GiB freeMemory: 11.77GiB
2020-10-22 14:58:34.087933: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2020-10-22 14:58:46.703439: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2020-10-22 14:58:46.710055: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2020-10-22 14:58:46.710087: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2020-10-22 14:58:46.710485: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 11385 MB memory) -> physical GPU (device: 0, name: TITAN X (Pascal), pci bus id: 0000:05:00.0, compute capability: 6.1)
Initialized parameters
KCT-info: loaded the new model, trained fastmri
KCT-INFO: the gradients: 
Tensor("gradients_2/AddN_3:0", shape=(1250, 784), dtype=float32)
Tensor("gradients_3/Reshape_2_grad/Reshape:0", shape=(1250, 784), dtype=float32)
Tensor("gradients_4/Reshape_2_grad/Reshape:0", shape=(1250, 784), dtype=float32)
_____DIRECT APPROX_____
KCT-INFO: there will be in total 1035 patches.
contRec is 
it no: 0 f_tot= 16156858046.693977 f_lik= 2018.2012034643265 f_dc (1e6)= 16156.856028492773 |g_lik|= 14830.497021929568 |g_dc|= 559.3671346824336
f_dc (1e6): 16156.001424051052  perc: 352.59695440740137
it no: 13 f_tot= 16151448898.132875 f_lik= 1966.9868843805223 f_dc (1e6)= 16151.44693114599 |g_lik|= 13936.540355278494 |g_dc|= 559.4584173961914
f_dc (1e6): 16150.365477247575  perc: 352.47395258127193
it no: 26 f_tot= 16153304246.05058 f_lik= 1989.499752528781 f_dc (1e6)= 16153.302256550827 |g_lik|= 14060.219392670808 |g_dc|= 559.418532178602
f_dc (1e6): 16152.30742569183  perc: 352.51633467131313
it no: 39 f_tot= 16150980557.51278 f_lik= 1991.6919805817377 f_dc (1e6)= 16150.978565820798 |g_lik|= 13938.983250458776 |g_dc|= 559.4129247330068
f_dc (1e6): 16149.952832418345  perc: 352.4649468065001
it no: 52 f_tot= 16152027006.952015 f_lik= 1991.5799861363002 f_dc (1e6)= 16152.025015372028 |g_lik|= 13985.845980305558 |g_dc|= 559.4132082075839
f_dc (1e6): 16151.032525250805  perc: 352.4885105828597
it no: 65 f_tot= 16151361565.721682 f_lik= 1989.8450434721085 f_dc (1e6)= 16151.359575876639 |g_lik|= 13935.506763665715 |g_dc|= 559.4117135377021
f_dc (1e6): 16150.32644533724  perc: 352.4731007286169
it no: 78 f_tot= 16151739240.523354 f_lik= 1975.848100226039 f_dc (1e6)= 16151.737264675254 |g_lik|= 13919.172234281523 |g_dc|= 559.4123838959578
f_dc (1e6): 16150.702733072127  perc: 352.4813130273051
it no: 91 f_tot= 16151474124.09282 f_lik= 1989.0277414337795 f_dc (1e6)= 16151.472135065076 |g_lik|= 13949.527794476944 |g_dc|= 559.4114411666924
f_dc (1e6): 16150.43138420476  perc: 352.4753909688883
it no: 104 f_tot= 16151639219.827213 f_lik= 2003.930777290662 f_dc (1e6)= 16151.637215896437 |g_lik|= 13912.605698986295 |g_dc|= 559.4119465579727
f_dc (1e6): 16150.628008345007  perc: 352.47968219610436
it no: 117 f_tot= 16151514275.665066 f_lik= 2002.133659328733 f_dc (1e6)= 16151.512273531407 |g_lik|= 13911.920836406796 |g_dc|= 559.4113703403248
f_dc (1e6): 16150.477510084887  perc: 352.4763976440194
it no: 130 f_tot= 16151595250.613068 f_lik= 1984.927064152672 f_dc (1e6)= 16151.593265686002 |g_lik|= 13925.223681253507 |g_dc|= 559.4116761742869
f_dc (1e6): 16150.61651042134  perc: 352.4794312594548
it no: 143 f_tot= 16151529009.050034 f_lik= 1996.7540020788283 f_dc (1e6)= 16151.527012296032 |g_lik|= 13934.340089522699 |g_dc|= 559.4113247884994
f_dc (1e6): 16150.49327767889  perc: 352.4767417641688
it no: 156 f_tot= 16151575183.584486 f_lik= 1983.4450908570063 f_dc (1e6)= 16151.573200139395 |g_lik|= 13913.091192130847 |g_dc|= 559.4115372318222
f_dc (1e6): 16150.545556544534  perc: 352.4778827252471
it no: 169 f_tot= 16151535233.014242 f_lik= 1996.3881568745205 f_dc (1e6)= 16151.533236626085 |g_lik|= 13968.75700571974 |g_dc|= 559.4112921756912
f_dc (1e6): 16150.477043879217  perc: 352.47638746930505
it no: 182 f_tot= 16151563569.369999 f_lik= 1987.9645221737453 f_dc (1e6)= 16151.561581405478 |g_lik|= 13942.652161123804 |g_dc|= 559.4114313087653
f_dc (1e6): 16150.50567085636  perc: 352.4770122393017
it no: 195 f_tot= 16151538528.313332 f_lik= 1993.0605004092624 f_dc (1e6)= 16151.53653525283 |g_lik|= 13907.75903210105 |g_dc|= 559.4112727789337
f_dc (1e6): 16150.521442880216  perc: 352.47735645613045
it no: 208 f_tot= 16151555750.47116 f_lik= 2023.73796534947 f_dc (1e6)= 16151.553726733197 |g_lik|= 13897.450009863313 |g_dc|= 559.411351591924
f_dc (1e6): 16150.523479592017  perc: 352.4774009063851
it no: 221 f_tot= 16151538266.138805 f_lik= 1978.3709001872653 f_dc (1e6)= 16151.536287767904 |g_lik|= 13900.313242606071 |g_dc|= 559.4112366677609
f_dc (1e6): 16150.529189307965  perc: 352.47752551818735
it no: 234 f_tot= 16151550263.475843 f_lik= 1980.6154531446525 f_dc (1e6)= 16151.548282860389 |g_lik|= 13908.616337367912 |g_dc|= 559.4112900334967
f_dc (1e6): 16150.52252087114  perc: 352.4773799827635
it no: 247 f_tot= 16151540310.491026 f_lik= 1983.8442357998802 f_dc (1e6)= 16151.538326646789 |g_lik|= 13922.191634876708 |g_dc|= 559.411245962697
f_dc (1e6): 16150.521810342361  perc: 352.4773644758149
it no: 260 f_tot= 16151548966.07321 f_lik= 2000.6122928093162 f_dc (1e6)= 16151.546965460917 |g_lik|= 13889.440438764612 |g_dc|= 559.4112866465947
f_dc (1e6): 16150.491237442588  perc: 352.4766972369936
it no: 273 f_tot= 16151539174.878193 f_lik= 1991.9101701171057 f_dc (1e6)= 16151.537182968023 |g_lik|= 13916.84182180122 |g_dc|= 559.4112079450144
f_dc (1e6): 16150.492206716617  perc: 352.4767183909328
it no: 286 f_tot= 16151546013.52142 f_lik= 2001.3609706115722 f_dc (1e6)= 16151.544012160448 |g_lik|= 13894.667301277474 |g_dc|= 559.411246553686
f_dc (1e6): 16150.534835812521  perc: 352.4776487504314
it no: 299 f_tot= 16151542519.569984 f_lik= 2010.0128418949955 f_dc (1e6)= 16151.540509557142 |g_lik|= 13936.871293550837 |g_dc|= 559.4112610123416
f_dc (1e6): 16150.507977031184  perc: 352.4770625704571
it no: 312 f_tot= 16151545585.147896 f_lik= 1996.333771435647 f_dc (1e6)= 16151.543588814126 |g_lik|= 13897.770527871704 |g_dc|= 559.411250286273
f_dc (1e6): 16150.524620489567  perc: 352.477425805925
it no: 325 f_tot= 16151539753.137804 f_lik= 1990.0997577667235 f_dc (1e6)= 16151.537763038046 |g_lik|= 13879.384725224785 |g_dc|= 559.4112010261208
f_dc (1e6): 16150.506023849413  perc: 352.47701994320516
it no: 338 f_tot= 16151544660.223953 f_lik= 1987.1101282737368 f_dc (1e6)= 16151.542673113825 |g_lik|= 13905.522637986895 |g_dc|= 559.4112416236954
f_dc (1e6): 16150.567901066806  perc: 352.4783703836902
it no: 351 f_tot= 16151539807.671865 f_lik= 1996.4905269740877 f_dc (1e6)= 16151.537811181339 |g_lik|= 13928.47871674298 |g_dc|= 559.4111963523062
f_dc (1e6): 16150.52228315604  perc: 352.47737479474586
it no: 364 f_tot= 16151543391.978153 f_lik= 1992.7428315462384 f_dc (1e6)= 16151.54139923532 |g_lik|= 13881.88652998322 |g_dc|= 559.4112245599997
f_dc (1e6): 16150.534475923176  perc: 352.47764089601964
it no: 377 f_tot= 16151540377.129469 f_lik= 1979.6107438755034 f_dc (1e6)= 16151.538397518725 |g_lik|= 13899.11359348454 |g_dc|= 559.4112055320027
f_dc (1e6): 16150.520383904748  perc: 352.4773333445006
it no: 390 f_tot= 16151542266.447557 f_lik= 1980.4553929522917 f_dc (1e6)= 16151.540285992165 |g_lik|= 13894.363454682933 |g_dc|= 559.4112150428658
f_dc (1e6): 16150.50197734639  perc: 352.4769316302244
it no: 403 f_tot= 16151541333.461302 f_lik= 1979.0255742481777 f_dc (1e6)= 16151.539354435728 |g_lik|= 13934.113611417868 |g_dc|= 559.4112158138514
f_dc (1e6): 16150.52843462675  perc: 352.47750904763313
it no: 416 f_tot= 16151541573.291925 f_lik= 1983.7040321876323 f_dc (1e6)= 16151.539589587892 |g_lik|= 13912.058307784146 |g_dc|= 559.4112027735194
f_dc (1e6): 16150.531780266469  perc: 352.4775820646095
it no: 429 f_tot= 16151540338.282804 f_lik= 2021.1560705758561 f_dc (1e6)= 16151.538317126733 |g_lik|= 13907.869722014922 |g_dc|= 559.4111958148578
f_dc (1e6): 16150.497532554711  perc: 352.4768346247855
it no: 442 f_tot= 16151541827.159466 f_lik= 1988.4441468304678 f_dc (1e6)= 16151.539838715318 |g_lik|= 13891.928284790065 |g_dc|= 559.4112030748342
f_dc (1e6): 16150.545850742628  perc: 352.4778891459789
it no: 455 f_tot= 16151539790.7509 f_lik= 1979.5553880918594 f_dc (1e6)= 16151.537811195512 |g_lik|= 13857.09845430065 |g_dc|= 559.4111870445345
f_dc (1e6): 16150.51463245792  perc: 352.47720782194205
it no: 468 f_tot= 16151542564.418875 f_lik= 1989.5947989974702 f_dc (1e6)= 16151.540574824076 |g_lik|= 13891.31001699018 |g_dc|= 559.4112223832565
f_dc (1e6): 16150.479368585364  perc: 352.4764382048977
it no: 481 f_tot= 16151539691.457647 f_lik= 1977.331164820535 f_dc (1e6)= 16151.537714126482 |g_lik|= 13892.584380622577 |g_dc|= 559.4111813675603
f_dc (1e6): 16150.538730703882  perc: 352.4777337545605
it no: 494 f_tot= 16151541715.594046 f_lik= 1988.3300622031802 f_dc (1e6)= 16151.539727263982 |g_lik|= 13918.827085630483 |g_dc|= 559.4112093947451
f_dc (1e6): 16150.499633440235  perc: 352.4768804756008
it no: 507 f_tot= 16151540568.615744 f_lik= 1983.0352966562907 f_dc (1e6)= 16151.538585580447 |g_lik|= 13947.619747640061 |g_dc|= 559.4112014597822
f_dc (1e6): 16150.521798095207  perc: 352.4773642085267
it no: 520 f_tot= 16151540099.9532 f_lik= 2008.1385601443337 f_dc (1e6)= 16151.53809181464 |g_lik|= 13902.735104106874 |g_dc|= 559.4111813296594
f_dc (1e6): 16150.50994981187  perc: 352.477105625446
it no: 533 f_tot= 16151540594.77113 f_lik= 2001.2969364366077 f_dc (1e6)= 16151.538593474193 |g_lik|= 13903.746589317932 |g_dc|= 559.4111979382269
f_dc (1e6): 16150.545030726284  perc: 352.4778712495169
it no: 546 f_tot= 16151540829.667501 f_lik= 1984.671218516486 f_dc (1e6)= 16151.538844996283 |g_lik|= 13922.782350650708 |g_dc|= 559.4111972448526
f_dc (1e6): 16150.514691217986  perc: 352.47720910435226
it no: 559 f_tot= 16151538613.308147 f_lik= 1984.3091658251626 f_dc (1e6)= 16151.536628998982 |g_lik|= 13903.451104144928 |g_dc|= 559.4111622360522
f_dc (1e6): 16150.487195275018  perc: 352.4766090186321
it no: 572 f_tot= 16151542413.684935 f_lik= 1986.1128073124657 f_dc (1e6)= 16151.540427572127 |g_lik|= 13923.233804235171 |g_dc|= 559.4112236707809
f_dc (1e6): 16150.55444532826  perc: 352.4780767186733
it no: 585 f_tot= 16151539920.79447 f_lik= 1984.8864538964772 f_dc (1e6)= 16151.537935908016 |g_lik|= 13894.152562228219 |g_dc|= 559.4111862126915
f_dc (1e6): 16150.503354930477  perc: 352.476961695334
it no: 598 f_tot= 16151540257.422068 f_lik= 2002.819675665583 f_dc (1e6)= 16151.538254602392 |g_lik|= 13918.850160510312 |g_dc|= 559.4111812376802
f_dc (1e6): 16150.518541044874  perc: 352.4772931249709
Traceback (most recent call last):
  File "runrecon.py", line 139, in <module>
    (ssim_rec, diff) = compare_ssim(np.fft.fftshift(maprecon)[(img_sizey/2):(-img_sizey/2),:], GT_img[160:-160],full=True)
  File "/scratch_net/bmicdl03/jonatank/conda_envs/tfv1/lib/python2.7/site-packages/skimage/measure/_structural_similarity.py", line 84, in compare_ssim
    raise ValueError('Input images must have the same dimensions.')
ValueError: Input images must have the same dimensions.
